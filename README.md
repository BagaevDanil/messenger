# Клиент-серверное приложение "Чат", основанное на использовании сокетов.

## Описание
В ходе проекта требовалось написать мессенджер с использованием языка С++. Необходимо было реализовать и клиент, и сервер. Ожидаемая топология подключения клиентов - звезда (один сервер, который знает всё и обо всех клиентах).
Реализованный набор функциональностей:
* Авторизация
* Регистрация новых пользователей
* Отправка и прием текстовых сообщений
* Хранение истории сообщений
* Вход с нескольких устройств с синхронизацией сообщений
* Объмен любыми файлами

## Серверная часть
Приложение инциализирует подключение к базе данных и выставляет порт, по которому ожидает подключение.
Сервер принимает запросы 8 видов:
  * Авторизация - проверка существования пользователя в БД.
  * Регистрация - добавление нового пользователя в БД.
  * Тестовое сообщение - сохранение сообщения в истории и рассылка всем подключенным пользователям.
  * Проверка подключения - запрос для проверки стабильности подключения.
  * Пакет с иторией сообщений - отправка набора из 10 сообщений с запрощенного индекса. 
  * Отправка файла клиенту - отправка файла с сервера пользователю.
  * Скачивание файла от клиента - скачивание и сохранение нового файла от пользователя.
  * Подписка на рассылку новых сообщений - добавить сокет в список подключенных клиентов.

Для авторизаации и регистрации выполняются SQL запросы в базу данных.
При скачивании и отправке файлов, с целью возможности передачи больших данных, файлы передаются по частям.

## Клиентская часть
Приложение с графическим интерфейсом на QT. Использует сокеты для подключения к серверу.
Состоит из двух экранов: 
* Авторизаци
* Чат
 
Экран авторизации позволяет выполнить вход и регистрацию используя интерфейс. Данные проверяются на корректность, затем отправляется соотвествующий запрос на сервер.
Экран с чатом позволяет получать сообщения и отправлять сообщения. Сообщения могут быть тестом или файлом. Создается 2 сокета, первый для отправки и получения текстовых сообщений, а второй для отправки и скачивания файлов. Есть возможность загрузить предыдущие сообщения.
  
## База данных:
Таблицы в БД:
* Users - хранит информацию о пользователях в системе (логин и пароль).
